"use strict";(self["webpackChunkdev"]=self["webpackChunkdev"]||[]).push([[705,4407],{4407:function(t,e,a){a.r(e),a.d(e,{default:function(){return c}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"formset-row-remark",attrs:{fill:""}},[e("field",{attrs:{"nd-xs":"",noborder:"",fill:"",tile:"",noresize:"",js:"",ac:"",title:t.row[t.value],black:!t.editing},on:{focus:function(e){t.editing=!0},blur:function(e){t.editing=!1},enter:t.submit},model:{value:t.row[t.value],callback:function(e){t.$set(t.row,t.value,e)},expression:"row[value]"}})],1)},r=[],i={name:"formset-row-remark",data(){return{editing:!1,snapshot:"",flag:!1}},props:["row","value"],computed:{remark(){return this.row[this.value]}},watch:{remark:{handler:function(t){this.flag||(this.snapshot=t,this.flag=!0)},immediate:!0}},methods:{submit(){let t=this.remark;t.trim()!==this.snapshot&&this.$http.put(`/qualityControl/report/semi/form/${this.row["requestGuid"]}?action=reportRemark`,{reportRemark:this.remark}).then((t=>{1===t.data?(this.snapshot=this.remark,this.$hint("备注已保存")):this.$hint({innerHTML:"备注失败",color:"red"})}))}}},l=i,o=a(1656),n=(0,o.A)(l,s,r,!1,null,null,null),c=n.exports},6785:function(t,e,a){a.r(e),a.d(e,{default:function(){return g}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"QualityControlReport"},[e("header",{attrs:{flex:"",je:"",ac:""}},[e("field",{directives:[{name:"addon",rawName:"v-addon:suffix",value:t.searchIcon,expression:"searchIcon",arg:"suffix"}],staticClass:"searchBox",attrs:{outlined:"",tile:"",xs:"",placeholder:"精确搜索: 请输入日期、名称或功能查找服务"},on:{enter:t.search,clickSearch:t.search},model:{value:t.stat.search,callback:function(e){t.$set(t.stat,"search",e)},expression:"stat.search"}})],1),e("main",{attrs:{catskill:"",lighten:"",bg:"","sm-pa":"","pa-sm":"",flex:"",js:"",card:"",relative:""}},[e("div",{staticClass:"tagBox",class:{invalid:t.stat.tagInvalid}},t._l(t.tags,(function(a,s){return e("div",{staticClass:"tag",class:{current:t.currentTagIndex===s},on:{click:function(e){t.currentTagIndex=s}}},[e("i",[t._v(t._s(a.name))])])})),0),e("formset",{ref:"formset",attrs:{nocreate:"",noselect:"","lg-pt":"","pt-lg":"","api:subject":"qualityControl/report/semi/form","api:primary":"requestGuid","api:query":t.queryString,columns:t.columns,patch:{tabular:{width:"1100px"}}},on:{opened:t.opened,closed:t.closed},scopedSlots:t._u([{key:"form",fn:function(){return[e("transition",{attrs:{name:"fade"}},[t.visible?e("div",[e("div",{attrs:{id:"qualityControl-reportPaper",flex:"",column:"",ac:"","mx-auto":""}},[e("img",{staticClass:"pageBody",attrs:{src:t.pageBody}}),e("img",{staticClass:"pageFooter",attrs:{src:t.pageFooter}}),e("div",{staticClass:"title",attrs:{"md-mb":"","mb-sm":"",flex:"",jc:"",ac:"","ht-5":""}},[e("h3",{attrs:{"lg-ls":"","ls-xl":""}},[t._v("半成品检测报告")])]),e("div",{staticClass:"reportWrapper",attrs:{"inline-block":"","mt-xs":""}},[e("img",{staticClass:"pageHeader",attrs:{src:t.pageHeader}}),e("table",{staticClass:"reportTable"},[e("tr",[e("td",{staticClass:"info",attrs:{colspan:"2",bold:""}},[e("div",[t._v("产品名称")])]),e("td",[t._v("琼脂")]),e("td",{staticClass:"info",attrs:{bold:""}},[e("div",[t._v("生产日期")])]),e("td",{attrs:{colspan:"2"}})]),e("tr",[e("td",{staticClass:"info",attrs:{colspan:"2",bold:""}},[e("div",[t._v("产品批号")])]),e("td"),e("td",{staticClass:"info",attrs:{bold:""}},[e("div",[t._v("数量")])]),e("td",{attrs:{colspan:"2"}})]),e("tr",[e("td",{staticClass:"info",attrs:{colspan:"2",bold:""}},[e("div",[t._v("检验日期")])]),e("td",[t._v(t._s(t.form.updateTime))]),e("td",{staticClass:"info",attrs:{bold:""}},[e("div",[t._v("报告日期")])]),e("td",{attrs:{colspan:"2"}},[t._v(t._s(t.form.reportTime))])]),e("tr",[e("td",{staticClass:"info",attrs:{bold:"",colspan:"2"}},[e("div",[t._v("检验项目")])]),e("td",{attrs:{bold:""}},[t._v("检测方法")]),e("td",{attrs:{bold:""}},[t._v("标准")]),e("td",{attrs:{bold:""}},[t._v("检测结果")]),e("td",{attrs:{bold:""}},[t._v("判定")])]),t._l(t.感官列表,(function(a,s){return e("reportTable",{attrs:{item:a,index:s,rowspan:t.getRowspan(t.感官列表),groupName:"感官指标"}})})),t._l(t.理化列表,(function(a,s){return e("reportTable",{attrs:{item:a,index:s,rowspan:t.getRowspan(t.理化列表),groupName:"理化指标"}})})),t._l(t.生物列表,(function(a,s){return e("reportTable",{attrs:{item:a,index:s,rowspan:t.getRowspan(t.生物列表),groupName:"微生物 限量指标"}})})),t._l(t.金属列表,(function(a,s){return e("reportTable",{attrs:{item:a,index:s,rowspan:t.getRowspan(t.金属列表),groupName:"重金属 限量指标"}})})),t._l(t.营养成分,(function(a,s){return e("reportTable",{attrs:{item:a,index:s,rowspan:t.getRowspan(t.营养成分),groupName:"营养成分"}})})),t._l(t.其他列表,(function(a,s){return e("reportTable",{attrs:{item:a,index:s,rowspan:t.getRowspan(t.其他列表),groupName:"其他"}})}))],2),e("div",{staticClass:"attachment"},[e("table",{staticClass:"attachmentTable",attrs:{sm:""}},[e("tr",[e("td",{staticClass:"info"},[e("div",[t._v("检测结果")])]),e("td",{staticClass:"value"},[t._v(t._s(t.form.conclusion))])]),e("tr",[e("td",{staticClass:"info"},[e("div",[t._v("检验人")])]),e("td",{staticClass:"value"},[t._v(t._s(t.form.inspector))])]),e("tr",[e("td",{staticClass:"info"},[e("div",[t._v("复核人")])]),e("td",{staticClass:"value"},[t._v(t._s(t.form.verifier))])])])])])]),e("div",{attrs:{"md-pt":"","pt-xl":"",flex:"",jc:""}},[e("btn",{attrs:{"xl-mr":"","mr-xl":""},on:{click:function(e){return t.form.close()}}},[t._v("关闭")]),e("btn",{attrs:{"xl-ml":"","ml-xl":"",blue:"",bg:"",pending:t.pending,disabled:0===t.form.items.length},on:{click:t.print}},[t._v(" 打印 ")])],1),e("gap",{attrs:{"py-xl":""}})],1):t._e()])]},proxy:!0}])})],1)])},r=[],i=a(6219),l=a(5730),o=a(4407),n=(a(988),a(8096),a(1253)),c=a(6532),d=a(4560),u=a(1990),p=a(5729),m={name:"report-semi",mixins:[c["default"]],components:{reportTable:n.A},data(){return{pageHeader:u,pageBody:p,pageFooter:d,form:{requestGuid:0,templateGuid:0,requestNum:"",sampleNum:"",batchNum:"",inspector:"",verifier:"",conclusion:"",requestTime:"",reportTime:"",validity:"",items:[{list:[]},{list:[]},{list:[]},{list:[]},{list:[]}]},pending:!1,columns:[{label:"日期",value:"reportTime",component:i["default"]},{label:"请验单编号",value:"requestNum"},{label:"样品编码",value:"sampleNum"},{label:"是否已出具报告",value:"resultStateCode",component:l["default"]},{label:"适用型号",value:"reportRemark",component:o["default"]}]}},provide(){return{revise:!1}},watch:{}},f=m,v=a(1656),h=(0,v.A)(f,s,r,!1,null,null,null),g=h.exports}}]);