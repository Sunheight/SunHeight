"use strict";(self["webpackChunkdev"]=self["webpackChunkdev"]||[]).push([[2058],{1733:function(t,e,s){s.d(e,{A:function(){return o}});var a=function(){var t=this,e=t._self._c;return e("ico",{attrs:{grey:"",lighten:"","pr-md":"","sm-pr":"",pointer:""},on:{click:function(e){return t.$parent.$emit("clickSearch")}}},[t._v("search-magnify")])},l=[],r={name:"searchIcon"},c=r,i=s(1656),n=(0,i.A)(c,a,l,!1,null,null,null),o=n.exports},2058:function(t,e,s){s.r(e),s.d(e,{default:function(){return d}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"userManagementList",attrs:{card:"","inline-block":"",catskill:"",lighten:"",bg:""}},[e("header",{staticClass:"bar",attrs:{flex:"",je:"","pr-lg":"","sm-pr":""}},[e("div",{staticClass:"funcBtn",attrs:{flex:"",jsb:"",ac:""}},[e("svg",{staticClass:"sortByTimeIcon",attrs:{height:"24",width:"24"}},[e("path",{attrs:{d:"M20 4v12h3l-4 5-4-5h3V4h2zm-8 14v2H3v-2h9zm2-7v2H3v-2h11zm0-7v2H3V4h11z"}})]),e("span",{staticClass:"name"},[t._v("最新")])])]),e("table",[e("thead",[e("tr",[e("td",{attrs:{"wd-2":""}},[e("div",{staticClass:"selectIco"},[e("field",{attrs:{xs:"","nd-md":"",check:"",cyan:"",jc:"",noborder:""},on:{click:t.selectAllRows},model:{value:t.selectAll,callback:function(e){t.selectAll=e},expression:"selectAll"}})],1)]),e("td",{staticClass:"onlined"},[t._v("是否在线")]),e("td",{staticClass:"col name"},[t._v("姓名")]),e("td",{staticClass:"col dept"},[t._v("部门")]),e("td",{staticClass:"col job"},[t._v("岗位")]),e("td",{staticClass:"col superior"},[t._v("直接上级")]),e("td",{staticClass:"col cellphone"},[t._v("联系电话")]),e("td",{staticClass:"col officePhone"},[t._v("办公室电话")]),e("td",{staticClass:"col-last",attrs:{je:""}},[e("field",{directives:[{name:"addon",rawName:"v-addon:suffix",value:t.searchIcon,expression:"searchIcon",arg:"suffix"}],staticStyle:{transform:"scale(.8)","transform-origin":"center right"},attrs:{xs:"","ht-xs":"","wd-22":"",js:"",placeholder:"高级搜索"},on:{enter:t.getUsers,clickSearch:t.getUsers},model:{value:t.stat.list.searchValue,callback:function(e){t.$set(t.stat.list,"searchValue",e)},expression:"stat.list.searchValue"}})],1)])]),e("tbody",[t._l(t.members,(function(s,a){return[s.isPlaceholder?e("tr",{staticStyle:{color:"transparent","pointer-events":"none","user-select":"none"}},[e("td",{attrs:{colspan:"9"}},[t._v("0")])]):e("tr",{key:a,class:{selected:s.selected,current:t.stat.list.current===s},on:{click:function(e){t.stat.list.current=s}}},[e("td",[e("field",{attrs:{check:"",cyan:"",jc:"",noborder:""},on:{change:t.checkSelectAll},model:{value:s.selected,callback:function(e){t.$set(s,"selected",e)},expression:"row.selected"}})],1),e("td",[t._v(" "+t._s(s.online?"是":"否")+" ")]),e("td",[t._v(t._s(s.fullName))]),e("td",[t._v(t._s(s.deptName))]),e("td",[t._v(t._s(s.position))]),e("td",[t._v(t._s(s.superiorName))]),e("td",[t._v(t._s(s.cellPhone))]),e("td",[t._v(t._s(s.officePhone))]),e("td",[e("div",{directives:[{name:"show",rawName:"v-show",value:t.stat.list.current===s,expression:"stat.list.current === row"}],attrs:{fill:"",je:"","pr-md":""}},[t.editable?e("i",{staticClass:"el-icon-edit",attrs:{pointer:"",blue:"","nd-md":"","wd-xs":"","ht-xs":"",jc:"",ac:""},on:{click:function(e){return t.edit(s)}}}):t._e()])])])]}))],2)]),e("div",{staticClass:"pageBox",attrs:{"mt-xl":"","md-mt":"",flex:"",je:""}},[e("pagination",{staticStyle:{transform:"scale(.8)"},attrs:{total:t.stat.list.amount,rowset:[15,20,25]},on:{change:t.goToPage,reset:t.reset},model:{value:t.stat.list.currentPage,callback:function(e){t.$set(t.stat.list,"currentPage",e)},expression:"stat.list.currentPage"}})],1),e("div",{attrs:{"ht-8":""}})])},l=[],r=(s(4114),s(1733)),c={name:"userManagementList",inject:["data","stat","snap","api"],created(){this.getUsers()},props:["getUsers"],data(){return{searchIcon:r.A,selectAll:!1,hoveredRow:null,filter:{search:""}}},computed:{members(){let t=this.data.list;if(t.length<this.stat.list.rowsPerPage){let e=this.stat.list.rowsPerPage-t.length;for(let s=0;s<e;s++)t.push({isPlaceholder:!0})}return t},editable(){return this.$store.state.devOption.user.editable}},methods:{reset(t){this.stat.list.rowsPerPage=t,this.stat.list.currentPage=1,this.getUsers()},goToPage(t){this.stat.list.currentPage=t,this.data.list=[],this.getUsers()},edit(){this.stat.user.action="update",this.stat.user.valid=!0},selectAllRows(){this.$nextTick((()=>{this.data.list.forEach((t=>{t.selected=this.selectAll}))}))},checkSelectAll(t){if(t){for(let t=0;t<this.data.list.length;t++)if(!1===this.data.list[t].selected)return;this.selectAll=!0}else this.selectAll=!1}}},i=c,n=s(1656),o=(0,n.A)(i,a,l,!1,null,"76ff45da",null),d=o.exports}}]);